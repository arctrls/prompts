---
description: C# BO 클래스 메서드를 Java Spring으로 마이그레이션 (워크플로우)
argument-hint: <C# 파일 경로> <진입점 메서드명> [Java 클래스 경로]
allowed-tools: Grep, Read, Edit, Write, mcp__serena__*
---

# C# BO Migration Workflow

@docs/legacy-order/csharp-method-migration-workflow.md 워크플로우를 따라 C# 메서드를 Java로 마이그레이션하는 task들을 생성한다.

## 입력 파라미터

| 파라미터       | 변수   | 필수 | 설명                   |
|------------|------|----|----------------------|
| C# 파일 경로   | `$1` | 필수 | 마이그레이션할 C# 소스 파일     |
| 진입점 메서드명   | `$2` | 필수 | 분석 시작점이 되는 메서드       |
| Java 클래스 명 | `$3` | 선택 | 타겟 Java 클래스 (없으면 확인) |

## 마이그레이션 task 생성 규칙 참조

@docs/legacy-order/workflow/csharp-method-migration-workflow.md

## 핵심 원칙

1. **함수 1대1 매핑**: UI 로직 제외, 함수 단위와 호출 순서는 무조건 유지
2. **단일 클래스**
    - 마이그레이션되는 모든 메서드는 반드시 하나의 Java 클래스에 포함되어야 함(DTO와 같이 별도의 클래스가 필요하다면 inner class로 포함)
    - 모든 타겟 클래스는 src/main/java/com/ktown4u/thomas/order/legacyadmin/ 하위에 위치
3. **추적 가능성**: 원본 C# 메서드와 변환된 Java 메서드를 1대1로 비교 가능

## 작업 단계

### 1단계: 입력 검증

- `$1` (C# 파일): 필수. 없으면 사용자에게 요청
- `$2` (메서드명): 필수. 없으면 사용자에게 요청
- `$3` (Java 클래스): 없으면 사용자에게 확인
    - 기존 클래스에 추가할지
    - 새 클래스를 생성할지

### 2단계: C# 파일 분석

`$1` 파일에서 `$2` 메서드를 찾아 호출 흐름 분석:

```
진입점: $2 ({시작라인}-{종료라인}라인)
  ↓
{메서드1}() ({라인범위})
  ├─ {메서드2}() ({라인범위})
  ├─ {메서드3}() ({라인범위})
  └─ {메서드4}() ({라인범위})
```

### 3단계: 메서드 매핑 테이블 생성

1대1 매핑 확인용 테이블:

```
원본 C#                    →  변환 Java
──────────────────────────────────────────
{C#_메서드1}()             →  {java_메서드1}()
{C#_메서드2}()             →  {java_메서드2}()
...                       →  ...
```

- 외부 의존성을 포함해서, **2단계에서 분석된 모든 메서드가 반드시 포함되어야 함**
- 변환될 Java 메서드명에서 클래스 명은 제외함(모든 메서드가 사용자가 지정한 클래스에 포함될 것이므로)
- [X]
  원본 C# → 변환 Java
  ────────────────────────────────────────────────────────────────
  ActionManager.getAddGoodsList()      → ActionManager.getAddGoodsList()
- [O]
  원본 C# → 변환 Java
  ────────────────────────────────────────────────────────────────
  ActionManager.getAddGoodsList()      → getAddGoodsList()

### 4단계: Task 생성

@docs/legacy-order/workflow/csharp-method-migration-workflow.md 의 태스크 생성 규칙에 따라:

- 원본 C# 코드 전체 포함
- @docs/legacy-order/*.md 참조 명시
- 1대1 매핑 확인 항목 포함
- Acceptance Criteria에 매핑 검증 포함

### 5단계: 사용자 승인 대기

태스크 생성 후 사용자에게 확인:

- 태스크 목록 검토
- 변환 순서 확인
- 승인 후 변환 진행

---

## 워크플로우 시작

**입력:**

- C# 파일: `$1`
- 진입점 메서드: `$2`
- Java 클래스: `$3`

입력이 없거나 불완전하면 위 정보를 요청합니다.
